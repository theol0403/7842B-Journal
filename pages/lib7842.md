---
layout: default
title: lib7842
nav_order: 2
has_children: true
permalink: lib7842
---

# lib7842

### What is lib7842?

lib7842 is a PROS library for advanced controls which is built around OkapiLib. It is designed to be a good example for advanced programming and a useful tool for competition.

I have been working of lib7842 since summer 2019, and plan on releasing it to the VEX community by summer 2020. I will use it for competition through the season, which will not only provide testing and experience, but also provide a direction and motivation for the library. 

I have shared the library with some teams in the US who are part of TVA for testing and collaboration purposes. 

The core of lib7842 will be:

- [x] Fluent path generation API
- [x] Pure Pursuit path follower
- [ ] Pure Pursuit X-Drive path follower
- [x] Odometry-based PID motion controller
- [x] Odometry-based PID X-Drive controller
- [ ] Flexible GUI library
- [ ] Vision sensor management and filtering

### Programming Practices:

lib7842 is a full library that will be used by many VEX competitors. To deliver the best product possible, I am learning how to follow the best C++ coding standards and practices for lib7842.

- **Git**

  - Make a commit for every change made
  - Use gitmoji to indicate commit intent
  - Use imperative tense for commit messages
  - Use git flow and make feature branches for large improvements
- **Code Style**
  - Use const references when passing values
  - cppcheck runs static analysis
- **Formatting**
  - Formatting is handled by clang-format-9
  - Install a clang-format package into your editor so you can format as you type
- **CI and Tests**
  - This project uses Google Test and OkapiLib mocks
  - Tests need to be made for each public API
  - Each commit is compiled and tested by Azure Pipelines
  - Results from CI include:
    - V5 build logs and template
    - Test build logs and results
    - Valgrind memory leak detector results
    - Callgrind profiler results
    - CppCheck static analysis
    - Codacity static analysis
    - Codefactor static analysis

# Commit Messages

Here is an example of lib7842 commit messages:

<img src="{{site.url}}/assets/images/image-20191115151808784.png" style="zoom: 67%;" />

# Tests

lib7842 uses GoogleTest, a unit testing framework. Here is an example of a test:

```cpp
TEST_F(SimplePathTest, ExtractCopy) {
  SimplePath path({point1, point1});

  SimplePath ipath = path.copy();
  ASSERT_EQ(ipath().size(), 2);

  for (size_t i = 0; i < path().size(); i++) {
    // pointers should not be equal
    ASSERT_NE(path()[i], ipath()[i]);
    // values should be equal
    ASSERT_EQ(*path()[i], point1);
  }
}
```

